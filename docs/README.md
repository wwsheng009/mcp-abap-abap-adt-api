# MCP ABAP ADT API Server æ–‡æ¡£

æ¬¢è¿ä½¿ç”¨ MCP ABAP ADT API Server å‚è€ƒæ–‡æ¡£ã€‚

## æ¦‚è¿°

MCP ABAP ADT API Server æ˜¯ä¸€ä¸ªåŸºäº Model Context Protocol (MCP) çš„æœåŠ¡å™¨ï¼Œç”¨äºå°† ABAP ADT (ABAP Development Tools) API æš´éœ²ç»™ MCP å®¢æˆ·ç«¯ï¼ˆå¦‚ Claudeã€Cline ç­‰ï¼‰ï¼Œå®ç°ä¸ SAP ABAP ç³»ç»Ÿçš„æ— ç¼äº¤äº’ã€‚

## ä¸»è¦åŠŸèƒ½

- **âœ… èº«ä»½éªŒè¯** - å®‰å…¨åœ°è¿æ¥åˆ° ABAP ç³»ç»Ÿ
- **ğŸ“¦ å¯¹è±¡ç®¡ç†** - åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ ABAP å¯¹è±¡
- **ğŸšš ä¼ è¾“ç®¡ç†** - ç®¡ç†ä¼ è¾“è¯·æ±‚å’Œé…ç½®
- **ğŸ” ä»£ç åˆ†æ** - è¯­æ³•æ£€æŸ¥ã€ä»£ç è¡¥å…¨ã€æŸ¥æ‰¾å®šä¹‰
- **ğŸ› è°ƒè¯•åŠŸèƒ½** - è®¾ç½®æ–­ç‚¹ã€å•æ­¥æ‰§è¡Œã€æŸ¥çœ‹å˜é‡
- **ğŸ§ª å•å…ƒæµ‹è¯•** - è¿è¡Œå’Œç®¡ç† ABAP å•å…ƒæµ‹è¯•
- **ğŸ” ATC æ£€æŸ¥** - ä»£ç å®¡æŸ¥å’Œé™æ€åˆ†æ
- **ğŸ“Š æ€§èƒ½è¿½è¸ª** - æ€§èƒ½åˆ†æå’Œè¿½è¸ª
- **ğŸ”§ é‡æ„æ“ä½œ** - é‡å‘½åã€æå–æ–¹æ³•ç­‰
- **ğŸ“ abapGit é›†æˆ** - Git ç‰ˆæœ¬æ§åˆ¶é›†æˆ
- **ğŸŒ æœåŠ¡ç»‘å®š** - ç®¡ç†æœåŠ¡ç»‘å®š

## æ–‡æ¡£ç´¢å¼•

### å¿«é€Ÿå¼€å§‹
- [å¿«é€Ÿå¼€å§‹æŒ‡å—](quickstart.md) - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹æŒ‡å—

### å®‰è£…å’Œé…ç½®
- [å®‰è£…å’Œé…ç½®](installation.md) - è¯¦ç»†çš„å®‰è£…å’Œé…ç½®æ­¥éª¤

### æœåŠ¡å™¨æ¶æ„
- [æœåŠ¡å™¨æ¶æ„](architecture.md) - æœåŠ¡å™¨è®¾è®¡å’Œæ¶æ„è¯´æ˜
- [å¤„ç†å™¨æ¨¡å—](handlers.md) - å„ä¸ªå¤„ç†å™¨æ¨¡å—çš„è¯¦ç»†è¯´æ˜

### å·¥å…·å‚è€ƒ
- [å·¥å…·å‚è€ƒ](tools-reference.md) - æ‰€æœ‰å¯ç”¨å·¥å…·çš„å®Œæ•´å‚è€ƒ

### å¼€å‘æ–‡æ¡£
- [å¼€å‘æŒ‡å—](development.md) - å¦‚ä½•æ‰©å±•å’Œå¼€å‘æœåŠ¡å™¨

## å¿«é€Ÿç¤ºä¾‹

### 1. è¿æ¥åˆ° SAP ç³»ç»Ÿ

```json
{
  "tool": "login",
  "arguments": {}
}
```

### 2. æœç´¢å¯¹è±¡

```json
{
  "tool": "searchObject",
  "arguments": {
    "query": "ZCL_*",
    "objType": "CLAS",
    "max": 50
  }
}
```

### 3. è·å–å¯¹è±¡æºä»£ç 

```json
{
  "tool": "getObjectSource",
  "arguments": {
    "objectSourceUrl": "/sap/bc/adt/oo/classes/zmyclass/source/main"
  }
}
```

### 4. ä¿®æ”¹æºä»£ç 

```json
{
  "tool": "setObjectSource",
  "arguments": {
    "objectSourceUrl": "/sap/bc/adt/oo/classes/zmyclass/source/main",
    "lockHandle": "...",
    "source": "NEW_SOURCE_CODE_HERE"
  }
}
```

### 5. è¿è¡Œå•å…ƒæµ‹è¯•

```json
{
  "tool": "unitTestRun",
  "arguments": {
    "url": "/sap/bc/adt/oo/classes/ztest_class"
  }
}
```

## å·¥ä½œæµç¨‹ç¤ºä¾‹

### å…¸å‹çš„ä»£ç ä¿®æ”¹å·¥ä½œæµ

1. **ç™»å½•**: `login`
2. **æœç´¢å¯¹è±¡**: `searchObject`
3. **è¯»å–æºä»£ç **: `getObjectSource`
4. **è·å–ä¼ è¾“ä¿¡æ¯**: `transportInfo`
5. **é”å®šå¯¹è±¡**: `lock`
6. **ä¿®æ”¹æºä»£ç **: `setObjectSource`
7. **è¯­æ³•æ£€æŸ¥**: `syntaxCheckCode`
8. **æ¿€æ´»å¯¹è±¡**: `activateByName`
9. **è§£é”å¯¹è±¡**: `unLock`

## æœåŠ¡å™¨è¦æ±‚

### è¿è¡Œç¯å¢ƒ
- **Node.js**: >= 20.x
- **npm**: >= 10.x

### SAP ç³»ç»Ÿè¦æ±‚
- **SAP ç³»ç»Ÿ**: æ”¯æŒ ADT REST API
- **ç”¨æˆ·æƒé™**: å¸¦æœ‰ ADT è®¿é—®æƒé™çš„ SAP ç”¨æˆ·

## ç‰ˆæœ¬ä¿¡æ¯

- **å½“å‰ç‰ˆæœ¬**: 0.1.1
- **ä¾èµ–çš„ abap-adt-api**: ^6.2.0
- **ä¾èµ–çš„ MCP SDK**: ^1.4.1

## æ”¯æŒçš„å®¢æˆ·ç«¯

æ­¤ MCP Server å¯ä»¥ä¸ä»¥ä¸‹å®¢æˆ·ç«¯é›†æˆï¼š

- **Claude Desktop** - Anthropic çš„ Claude æ¡Œé¢å®¢æˆ·ç«¯
- **Cline** - AI ç¼–ç¨‹åŠ©æ‰‹
- **ä»»ä½•å…¶ä»– MCP å…¼å®¹çš„å®¢æˆ·ç«¯**

## é¡¹ç›®ç»“æ„

```
mcp-abap-abap-adt-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts                              # æœåŠ¡å™¨å…¥å£å’Œä¸»ç±»
â”‚   â”œâ”€â”€ handlers/                             # å·¥å…·å¤„ç†å™¨ (25ä¸ª)
â”‚   â”‚   â”œâ”€â”€ BaseHandler.ts                    # å¤„ç†å™¨åŸºç±»
â”‚   â”‚   â”œâ”€â”€ AuthHandlers.ts                   # èº«ä»½éªŒè¯ (3ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ ObjectHandlers.ts                 # å¯¹è±¡æ“ä½œ (5ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ TransportHandlers.ts              # ä¼ è¾“ç®¡ç† (15ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ ObjectLockHandlers.ts             # å¯¹è±¡é”å®š (2ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ ObjectSourceHandlers.ts           # æºä»£ç æ“ä½œ (2ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ ObjectManagementHandlers.ts       # å¯¹è±¡ç®¡ç† (3ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ ObjectDeletionHandlers.ts         # å¯¹è±¡åˆ é™¤ (1ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ ObjectRegistrationHandlers.ts     # å¯¹è±¡æ³¨å†Œ (3ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ ClassHandlers.ts                  # ç±»æ“ä½œ (2ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ CodeAnalysisHandlers.ts           # ä»£ç åˆ†æ (15ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ PrettyPrinterHandlers.ts          # ä»£ç æ ¼å¼åŒ– (3ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ UnitTestHandlers.ts               # å•å…ƒæµ‹è¯• (4ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ GitHandlers.ts                    # Gité›†æˆ (10ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ DdicHandlers.ts                   # æ•°æ®å­—å…¸ (4ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ ServiceBindingHandlers.ts         # æœåŠ¡ç»‘å®š (3ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ QueryHandlers.ts                  # æ•°æ®åº“æŸ¥è¯¢ (2ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ FeedHandlers.ts                   # Feedå’ŒDump (2ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ DebugHandlers.ts                  # è°ƒè¯•å™¨ (13ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ NodeHandlers.ts                   # èŠ‚ç‚¹æ“ä½œ (2ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ DiscoveryHandlers.ts              # ADTå‘ç° (7ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ RenameHandlers.ts                 # é‡å‘½åé‡æ„ (3ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ AtcHandlers.ts                    # ATCæ£€æŸ¥ (10ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ TraceHandlers.ts                  # æ€§èƒ½è¿½è¸ª (10ä¸ªå·¥å…·)
â”‚   â”‚   â”œâ”€â”€ RefactorHandlers.ts               # é‡æ„æ“ä½œ (3ä¸ªå·¥å…·)
â”‚   â”‚   â””â”€â”€ RevisionHandlers.ts               # ç‰ˆæœ¬å†å² (1ä¸ªå·¥å…·)
â”‚   â”œâ”€â”€ lib/                                  # å·¥å…·åº“
â”‚   â”‚   â””â”€â”€ logger.ts                         # æ—¥å¿—ç³»ç»Ÿ
â”‚   â””â”€â”€ types/                                # ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ tools.ts                          # å·¥å…·ç±»å‹æ¥å£
â”œâ”€â”€ docs/                                     # æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                             # æœ¬æ–‡æ¡£
â”‚   â”œâ”€â”€ quickstart.md                         # å¿«é€Ÿå¼€å§‹
â”‚   â”œâ”€â”€ installation.md                       # å®‰è£…æŒ‡å—
â”‚   â”œâ”€â”€ architecture.md                       # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ handlers.md                           # å¤„ç†å™¨æ–‡æ¡£
â”‚   â”œâ”€â”€ tools-reference.md                    # å·¥å…·å‚è€ƒ
â”‚   â””â”€â”€ development.md                        # å¼€å‘æŒ‡å—
â”œâ”€â”€ package.json                              # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json                             # TypeScripté…ç½®
â””â”€â”€ .env.example                              # ç¯å¢ƒå˜é‡æ¨¡æ¿
```

## ç»Ÿè®¡ä¿¡æ¯

- **æ€»å¤„ç†å™¨æ•°**: 25ä¸ª
- **æ€»å·¥å…·æ•°**: 120+ä¸ª
- **ä¾èµ–åº“**: abap-adt-api ^6.2.0, @modelcontextprotocol/sdk ^1.4.1
- **å½“å‰ç‰ˆæœ¬**: 0.1.1

## æ ¸å¿ƒæ¦‚å¿µ

### MCP (Model Context Protocol)
MCP æ˜¯ä¸€ç§åè®®ï¼Œç”¨äº AI æ¨¡å‹ä¸å¤–éƒ¨æœåŠ¡å’Œèµ„æºä¹‹é—´çš„æ ‡å‡†åŒ–é€šä¿¡ã€‚æœ¬æœåŠ¡å™¨å®ç°äº† MCP åè®®ï¼Œä½¿å¾— AI æ¨¡å‹å¯ä»¥é€šè¿‡æ ‡å‡†åŒ–çš„å·¥å…·æ¥å£ä¸ SAP ABAP ç³»ç»Ÿäº¤äº’ã€‚

### ADT (ABAP Development Tools)
ADT æ˜¯ SAP æä¾›çš„ä¸€ç»„ REST APIï¼Œç”¨äºè®¿é—®å’Œæ“ä½œ ABAP å¯¹è±¡ã€‚æœ¬æœåŠ¡å™¨å°è£…äº† [abap-adt-api](https://github.com/marcellourbani/abap-adt-api/) åº“ï¼Œæä¾›äº†ç®€åŒ–çš„ MCP å·¥å…·æ¥å£ã€‚

### Handler æ¨¡å¼
æœåŠ¡å™¨é‡‡ç”¨ Handler æ¨¡å¼ï¼Œæ¯ä¸ªåŠŸèƒ½æ¨¡å—ï¼ˆå¦‚å¯¹è±¡æ“ä½œã€ä¼ è¾“ç®¡ç†ã€è°ƒè¯•ç­‰ï¼‰éƒ½æœ‰å¯¹åº”çš„ Handler ç±»ã€‚è¿™äº› Handler ç±»ç»§æ‰¿è‡ª `BaseHandler`ï¼Œå®ç°äº†ç»Ÿä¸€çš„æ¥å£ã€‚

### é”™è¯¯å¤„ç†
æœåŠ¡å™¨ä½¿ç”¨ `McpError` æœºåˆ¶æŠ¥å‘Šé”™è¯¯ï¼Œé”™è¯¯ä¿¡æ¯ä»¥ JSON æ ¼å¼è¿”å›ç»™å®¢æˆ·ç«¯ã€‚

## æ€§èƒ½è€ƒè™‘

æœåŠ¡å™¨å®ç°äº†ä»¥ä¸‹æ€§èƒ½ä¼˜åŒ–æœºåˆ¶ï¼š

- **è¯·æ±‚è¿½è¸ª**: æ¯ä¸ªè¯·æ±‚éƒ½è¢«è®°å½•å’Œè¿½è¸ª
- **æŒ‡æ ‡æ”¶é›†**: è‡ªåŠ¨æ”¶é›†æ€§èƒ½æŒ‡æ ‡ï¼ˆè¯·æ±‚æ•°ã€é”™è¯¯æ•°ã€å¹³å‡å“åº”æ—¶é—´ï¼‰
- **é€Ÿç‡é™åˆ¶**: å†…ç½®ç®€å•çš„é€Ÿç‡é™åˆ¶æœºåˆ¶
- **ä¼šè¯ç®¡ç†**: æ”¯æŒ stateful å’Œ stateless ä¼šè¯æ¨¡å¼

## å®‰å…¨æ€§

- **ç¯å¢ƒå˜é‡**: æ•æ„Ÿä¿¡æ¯é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®
- **ä¼šè¯éš”ç¦»**: æ”¯æŒä¼šè¯éš”ç¦»å’Œç»ˆæ­¢
- **SSL/TLS**: æ”¯æŒ HTTPS è¿æ¥å’Œè‡ªå®šä¹‰è¯ä¹¦

## æ•…éšœæ’é™¤

å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆï¼š

### è¿æ¥å¤±è´¥
- æ£€æŸ¥ SAP URLã€ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®
- ç¡®ä¿ SAP ç³»ç»Ÿå¯è®¿é—®
- æ£€æŸ¥é˜²ç«å¢™å’Œç½‘ç»œé…ç½®

### è®¤è¯å¤±è´¥
- éªŒè¯ç”¨æˆ·å‡­æ®
- æ£€æŸ¥ç”¨æˆ·æƒé™
- ç¡®ä¿å®¢æˆ·ç«¯ ID æŒ‡å®šæ­£ç¡®

### é”å®šå¤±è´¥
- æ£€æŸ¥å¯¹è±¡æ˜¯å¦å·²è¢«å…¶ä»–ç”¨æˆ·é”å®š
- å°è¯•é‡æ–°è·å–é”
- æ£€æŸ¥ç”¨æˆ·æƒé™

## ç›¸å…³èµ„æº

- [abap-adt-api ä»“åº“](https://github.com/marcellourbani/abap-adt-api/)
- [MCP åè®®æ–‡æ¡£](https://modelcontextprotocol.io/)
- [SAP ADT æ–‡æ¡£](https://help.sap.com/viewer/p/SAP_ADT)
- [Claude Desktop](https://claude.ai/download)

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·å‚é˜… [å¼€å‘æŒ‡å—](development.md) äº†è§£å¦‚ä½•å‚ä¸å¼€å‘ã€‚

## è®¸å¯è¯

ISC License - è¯¦è§é¡¹ç›®æ ¹ç›®å½•çš„ LICENSE æ–‡ä»¶

## è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤) éƒ¨åˆ†
2. æäº¤ [Issue](https://github.com/mario-andreschak/mcp-abap-abap-adt-api/issues)
3. æŸ¥çœ‹ [ç°æœ‰æ–‡æ¡£](#æ–‡æ¡£ç´¢å¼•)
